<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>subprocess.kill([signal]) | Node.js API 文档</title>
  <link rel="icon" sizes="32x32" type="image/png" href="//static.nodejs.cn/_static/img/favicon.png">
  <script>
    document.write('<link href="http://nodejs.cn/api/child_process/' + (location.port?'':'//static.nodejs.cn') + '/_static/css/api.css?1544712012951" rel="stylesheet">')
  </script>
<link rel="icon" sizes="32x32" type="image/png" href="//static.nodejs.cn/_static/img/favicon.png">    <link href="index.css" rel="stylesheet">    <style>        html #hm_t_undefined .hm-t-go-top {position:fixed;right:2px;bottom:2px;z-index:99998;cursor:pointer;width:40px;height:37px!important;text-align:center;white-space:normal;font-size:14px;line-height:17px;padding-top:3px;color:#fff;background:#404040;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEkAAAAXCAYAAABH92JbAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2hpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDowMjgwMTE3NDA3MjA2ODExODA4M0UyNDA4ODdDRTZBQiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpBQjc5RkRFNkI5ODMxMUUzQkZGNDhENEJFQjM2OTcyRiIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpBQjc5RkRFNUI5ODMxMUUzQkZGNDhENEJFQjM2OTcyRiIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MDI4MDExNzQwNzIwNjgxMTgwODNFMjQwODg3Q0U2QUIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MDI4MDExNzQwNzIwNjgxMTgwODNFMjQwODg3Q0U2QUIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5HPYM5AAACC0lEQVR42uyZTSgEYRjH90NoqaVcpDblvKW2XOSkNh8H5Yac9sBBDqQokiJKSMpNTi5OPo6Ktsgu67JcUHIXWfK1u3b8Xx6Zxuzu+64dM83uv34zNfu8b8/8Z+d5P8YqSZLFJNLsRmyWvIRMKgVD4AhEwA3YAV0pzGwEqyAEwmAddIICHe7FqhnsdQM14FxKLj+ooFiGE2ykiD8GVbJ4I1ELAnTmasMODnAhpVcIFIMicMgRH6Z4IxnUAh4pP3Zu5TVpUOLXDJgWiB8wkEF9IK7IL07X05oUFLjpZ4JXQQOYYwfzafJcoDjVPqw43KE4lWtUTF+AQ8eBqQSsgTaO2E0apJ7URrdCDZOM62hQJfBzGmShOD+1+2XSiYaJ7utkkBsEgEewnYfauZUmzWmU6DuY0sEgLzgArgzbu6i992cu/1WclqXsa1iHIt0DYlnKP0b9fRZu5pWdZs7dWXqa7B80+s//oF5aMSjflGqBPq5BQnFtVv4UmGHjIPEH96PAZ6C5kVMwf6daPzbFKnqCqvx9Bk/yFjSBFTMvcL+1DerAmUA/p9Rm1+y7AHJdgnqwx9EHm1s0gKtc2CpR6gE00/ZHMm3RKxbJlf0kNb2BDrCk8hsbDdvBay5tuiUTGxL7waTs2iLw0YTR9BLZQRwDUVqwjuTS9q3VRB8C1OQUnM6UqdXX/IcADn0IMADs2AqDOPSutQAAAABJRU5ErkJggg==) no-repeat -42px center #666;*background-image:url(http://ecma.bdimg.com/holmes/t-popup-icons-png8.png);_position:absolute;_top:expression(eval(document.documentElement.scrollTop+(document.documentElement.clientHeight||document.body.clientHeight)-this.offsetHeight-2));}    </style></head>
<body class="alt apidoc" id="page_api_item">
  <div id="api-section-child_process">
    <div id="content" class="clearfix">
  
      <div id="column1" data-id="__ID__" class="interior">
        <header>
          <h1>subprocess.kill([signal])</h1>
          <div id="gtoc">
            <ul>
              <li>
                <a href="child_process.html#child_process_subprocess_kill_signal" tppabs="http://nodejs.cn/api/child_process.html#child_process_subprocess_kill_signal" name="toc">返回上层文档</a>
              </li>
              <li>
                <a href="javascript:if(confirm('http://nodejs.cn/search  \n\n���ļ��޷��� Teleport Ultra ����, ��Ϊ ����һ�����·���ⲿ������Ϊ������ʼ��ַ�ĵ�ַ��  \n\n�����ڷ������ϴ���?'))window.location='http://nodejs.cn/search'" tppabs="http://nodejs.cn/search" name="toc">搜索</a>
              </li>
            </ul>
          </div>
          <hr>
        </header>
  
        <div id="apicontent">
          <div id="content_left"><div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.1.90</span>
</div><ul>
<li><code>signal</code> <a href="javascript:if(confirm('http://nodejs.cn/s/_moz/Data_structures  \n\n���ļ��޷��� Teleport Ultra ����, ��Ϊ ����һ�����·���ⲿ������Ϊ������ʼ��ַ�ĵ�ַ��  \n\n�����ڷ������ϴ���?'))window.location='http://nodejs.cn/s/_moz/Data_structures#String_type'" tppabs="http://nodejs.cn/s/_moz/Data_structures#String_type" target="_blank" rel="nofollow" class="type">&lt;string&gt;</a></li>
</ul><p>&#x5411;&#x5B50;&#x8FDB;&#x7A0B;&#x53D1;&#x9001;&#x4FE1;&#x53F7;&#x3002;
&#x5982;&#x679C;&#x6CA1;&#x6709;&#x6307;&#x5B9A;&#x53C2;&#x6570;&#xFF0C;&#x5219;&#x8FDB;&#x7A0B;&#x4F1A;&#x53D1;&#x9001; <code>&apos;SIGTERM&apos;</code> &#x4FE1;&#x53F7;&#x3002;
&#x67E5;&#x770B; <a href="javascript:if(confirm('http://nodejs.cn/s/_man/7/signal.7  \n\n���ļ��޷��� Teleport Ultra ����, ��Ϊ ����һ�����·���ⲿ������Ϊ������ʼ��ַ�ĵ�ַ��  \n\n�����ڷ������ϴ���?'))window.location='http://nodejs.cn/s/_man/7/signal.7'" tppabs="http://nodejs.cn/s/_man/7/signal.7" rel="nofollow"><code>signal(7)</code></a> &#x4E86;&#x89E3;&#x53EF;&#x7528;&#x7684;&#x4FE1;&#x53F7;&#x5217;&#x8868;&#x3002;</p><pre><code class="language-js">const { spawn } = require(&apos;child_process&apos;);
const grep = spawn(&apos;grep&apos;, [&apos;ssh&apos;]);

grep.on(&apos;close&apos;, (code, signal) =&gt; {
  console.log(`&#x5B50;&#x8FDB;&#x7A0B;&#x6536;&#x5230;&#x4FE1;&#x53F7; ${signal} &#x800C;&#x7EC8;&#x6B62;`);
});

// &#x53D1;&#x9001; SIGHUP &#x5230;&#x8FDB;&#x7A0B;&#x3002;
grep.kill(&apos;SIGHUP&apos;);
</code></pre><p>&#x5982;&#x679C;&#x4FE1;&#x53F7;&#x6CA1;&#x6709;&#x88AB;&#x9001;&#x8FBE;&#xFF0C;<a href="javascript:if(confirm('http://nodejs.cn/s/uALgct  \n\n���ļ��޷��� Teleport Ultra ����, ��Ϊ ����һ�����·���ⲿ������Ϊ������ʼ��ַ�ĵ�ַ��  \n\n�����ڷ������ϴ���?'))window.location='http://nodejs.cn/s/uALgct'" tppabs="http://nodejs.cn/s/uALgct" rel="nofollow"><code>ChildProcess</code></a> &#x5BF9;&#x8C61;&#x53EF;&#x80FD;&#x4F1A;&#x89E6;&#x53D1; <a href="javascript:if(confirm('http://nodejs.cn/s/zPWBLU  \n\n���ļ��޷��� Teleport Ultra ����, ��Ϊ ����һ�����·���ⲿ������Ϊ������ʼ��ַ�ĵ�ַ��  \n\n�����ڷ������ϴ���?'))window.location='http://nodejs.cn/s/zPWBLU'" tppabs="http://nodejs.cn/s/zPWBLU" rel="nofollow"><code>&apos;error&apos;</code></a> &#x4E8B;&#x4EF6;&#x3002;
&#x5411;&#x4E00;&#x4E2A;&#x5DF2;&#x7ECF;&#x9000;&#x51FA;&#x7684;&#x5B50;&#x8FDB;&#x7A0B;&#x53D1;&#x9001;&#x4FE1;&#x53F7;&#x4E0D;&#x662F;&#x4E00;&#x4E2A;&#x9519;&#x8BEF;&#xFF0C;&#x4F46;&#x53EF;&#x80FD;&#x6709;&#x65E0;&#x6CD5;&#x9884;&#x77E5;&#x7684;&#x540E;&#x679C;&#x3002;
&#x5982;&#x679C;&#x8FDB;&#x7A0B;&#x7684; PID &#x5DF2;&#x7ECF;&#x91CD;&#x65B0;&#x5206;&#x914D;&#x7ED9;&#x5176;&#x4ED6;&#x8FDB;&#x7A0B;&#xFF0C;&#x5219;&#x4FE1;&#x53F7;&#x4F1A;&#x88AB;&#x53D1;&#x9001;&#x5230;&#x8BE5;&#x8FDB;&#x7A0B;&#xFF0C;&#x4ECE;&#x800C;&#x53EF;&#x80FD;&#x6709;&#x610F;&#x60F3;&#x4E0D;&#x5230;&#x7684;&#x7ED3;&#x679C;&#x3002;</p><p>&#x5F53;&#x51FD;&#x6570;&#x88AB;&#x8C03;&#x7528; <code>kill</code> &#x65F6;&#xFF0C;&#x5DF2;&#x53D1;&#x9001;&#x5230;&#x5B50;&#x8FDB;&#x7A0B;&#x7684;&#x4FE1;&#x53F7;&#x53EF;&#x80FD;&#x6CA1;&#x6709;&#x5B9E;&#x9645;&#x7EC8;&#x6B62;&#x8BE5;&#x8FDB;&#x7A0B;&#x3002;</p><p>&#x8BE6;&#x89C1; <a href="javascript:if(confirm('http://nodejs.cn/s/_man/2/kill.2  \n\n���ļ��޷��� Teleport Ultra ����, ��Ϊ ����һ�����·���ⲿ������Ϊ������ʼ��ַ�ĵ�ַ��  \n\n�����ڷ������ϴ���?'))window.location='http://nodejs.cn/s/_man/2/kill.2'" tppabs="http://nodejs.cn/s/_man/2/kill.2" rel="nofollow"><code>kill(2)</code></a>&#x3002;</p><p>&#x5728; Linux &#x4E0A;&#xFF0C;&#x5F53;&#x8BD5;&#x56FE;&#x6740;&#x6B7B;&#x7236;&#x8FDB;&#x7A0B;&#x65F6;&#xFF0C;&#x5B50;&#x8FDB;&#x7A0B;&#x7684;&#x5B50;&#x8FDB;&#x7A0B;&#x4E0D;&#x4F1A;&#x88AB;&#x7EC8;&#x6B62;&#x3002;
&#x8FD9;&#x6709;&#x53EF;&#x80FD;&#x53D1;&#x751F;&#x5728;&#x5F53;&#x5728;&#x4E00;&#x4E2A; shell &#x4E2D;&#x8FD0;&#x884C;&#x4E00;&#x4E2A;&#x65B0;&#x8FDB;&#x7A0B;&#x65F6;&#xFF0C;&#x6216;&#x4F7F;&#x7528; <code>ChildProcess</code> &#x4E2D;&#x7684; <code>shell</code> &#x9009;&#x9879;&#x65F6;&#xFF1A;</p><pre><code class="language-js">&apos;use strict&apos;;
const { spawn } = require(&apos;child_process&apos;);

const subprocess = spawn(
  &apos;sh&apos;,
  [
    &apos;-c&apos;,
    `node -e &quot;setInterval(() =&gt; {
      console.log(process.pid, &apos;is alive&apos;)
    }, 500);&quot;`
  ], {
    stdio: [&apos;inherit&apos;, &apos;inherit&apos;, &apos;inherit&apos;]
  }
);

setTimeout(() =&gt; {
  subprocess.kill(); // &#x4E0D;&#x4F1A;&#x7EC8;&#x6B62; shell &#x4E2D;&#x7684; node &#x8FDB;&#x7A0B;&#x3002;
}, 2000);
</code></pre></div>
          <div id="content_right"><div class="api_metadata">
<span>Added in: v0.1.90</span>
</div><ul>
<li><code>signal</code> <a href="javascript:if(confirm('http://nodejs.cn/s/_moz/Data_structures  \n\n���ļ��޷��� Teleport Ultra ����, ��Ϊ ����һ�����·���ⲿ������Ϊ������ʼ��ַ�ĵ�ַ��  \n\n�����ڷ������ϴ���?'))window.location='http://nodejs.cn/s/_moz/Data_structures#String_type'" tppabs="http://nodejs.cn/s/_moz/Data_structures#String_type" target="_blank" rel="nofollow" class="type">&lt;string&gt;</a></li>
</ul><p>The <code>subprocess.kill()</code> method sends a signal to the child process. If no
argument is given, the process will be sent the <code>&apos;SIGTERM&apos;</code> signal. See
<a href="javascript:if(confirm('http://nodejs.cn/s/_man/7/signal.7  \n\n���ļ��޷��� Teleport Ultra ����, ��Ϊ ����һ�����·���ⲿ������Ϊ������ʼ��ַ�ĵ�ַ��  \n\n�����ڷ������ϴ���?'))window.location='http://nodejs.cn/s/_man/7/signal.7'" tppabs="http://nodejs.cn/s/_man/7/signal.7" rel="nofollow"><code>signal(7)</code></a> for a list of available signals.</p><pre><code class="language-js">const { spawn } = require(&apos;child_process&apos;);
const grep = spawn(&apos;grep&apos;, [&apos;ssh&apos;]);

grep.on(&apos;close&apos;, (code, signal) =&gt; {
  console.log(
    `child process terminated due to receipt of signal ${signal}`);
});

// Send SIGHUP to process
grep.kill(&apos;SIGHUP&apos;);
</code></pre><p>The <a href="javascript:if(confirm('http://nodejs.cn/s/uALgct  \n\n���ļ��޷��� Teleport Ultra ����, ��Ϊ ����һ�����·���ⲿ������Ϊ������ʼ��ַ�ĵ�ַ��  \n\n�����ڷ������ϴ���?'))window.location='http://nodejs.cn/s/uALgct'" tppabs="http://nodejs.cn/s/uALgct" rel="nofollow"><code>ChildProcess</code></a> object may emit an <a href="javascript:if(confirm('http://nodejs.cn/s/zPWBLU  \n\n���ļ��޷��� Teleport Ultra ����, ��Ϊ ����һ�����·���ⲿ������Ϊ������ʼ��ַ�ĵ�ַ��  \n\n�����ڷ������ϴ���?'))window.location='http://nodejs.cn/s/zPWBLU'" tppabs="http://nodejs.cn/s/zPWBLU" rel="nofollow"><code>&apos;error&apos;</code></a> event if the signal cannot be
delivered. Sending a signal to a child process that has already exited is not
an error but may have unforeseen consequences. Specifically, if the process
identifier (PID) has been reassigned to another process, the signal will be
delivered to that process instead which can have unexpected results.</p><p>Note that while the function is called <code>kill</code>, the signal delivered to the
child process may not actually terminate the process.</p><p>See <a href="javascript:if(confirm('http://nodejs.cn/s/_man/2/kill.2  \n\n���ļ��޷��� Teleport Ultra ����, ��Ϊ ����һ�����·���ⲿ������Ϊ������ʼ��ַ�ĵ�ַ��  \n\n�����ڷ������ϴ���?'))window.location='http://nodejs.cn/s/_man/2/kill.2'" tppabs="http://nodejs.cn/s/_man/2/kill.2" rel="nofollow"><code>kill(2)</code></a> for reference.</p><p>On Linux, child processes of child processes will not be terminated
when attempting to kill their parent. This is likely to happen when running a
new process in a shell or with the use of the <code>shell</code> option of <code>ChildProcess</code>:</p><pre><code class="language-js">&apos;use strict&apos;;
const { spawn } = require(&apos;child_process&apos;);

const subprocess = spawn(
  &apos;sh&apos;,
  [
    &apos;-c&apos;,
    `node -e &quot;setInterval(() =&gt; {
      console.log(process.pid, &apos;is alive&apos;)
    }, 500);&quot;`
  ], {
    stdio: [&apos;inherit&apos;, &apos;inherit&apos;, &apos;inherit&apos;]
  }
);

setTimeout(() =&gt; {
  subprocess.kill(); // does not terminate the node process in the shell
}, 2000);
</code></pre></div>
          <div></div>
        </div>
      </div>
    </div>
  </div>
  <script>
    document.write('<script src="' + (location.port ? '' : 'http://static.nodejs.cn/') + '/_static/js/api.js?1544712012951"><\/script>');
  </script>
</body>
</html>